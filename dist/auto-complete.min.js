!function(e,n){function t(e,n){n.parentNode.insertBefore(e,n.nextSibling)}function i(e){var t=n.createElement("div");t.innerHTML=e;var i=t.firstChild;return i}function o(){var e=(n.createElement("div"),'<div class="ac widget">  <span class="ac tags">  </span>  <div class="ac input">    <input class="ac text-field" type="text">    <div class="ac menu">    </div>  </div></div>');return i(e)}function a(e){var n='<span class="ac tag">'+e+'<span class="ac rm">&times</span></span>';return i(n)}function r(e){var n='<div class="ac menu-item">'+e+"</div>";return i(n)}function c(e,n){-1===e.className.indexOf(n)&&(e.className+=" "+n)}function u(e,n){-1!==e.className.indexOf(n)&&(e.className=e.className.replace(n,"").trim())}function d(e){function n(){return 0===arguments.length?e.value:e.value=arguments[0]}return{value:n,clear:function(){e.value=""}}}function s(e,n){function t(e){return function(n){return n.text===e}}function i(i){if(!c.some(t(i))){var r=a(i),d=r.querySelector(".ac.rm");d.addEventListener("click",function(e){o(i),n(e)}),e.insertBefore(r,u),c.push({text:i,elem:r})}}function o(n){if(c.some(t(n))){var i=c.filter(t(n))[0];e.removeChild(i.elem),c.splice(c.indexOf(i),1)}}function r(){return c.map(function(e){return e.text})}var c=[],u=e.querySelector(".ac.input");return{add:i,remove:o,data:r}}function l(e,n,t){function i(){c(e,"hide")}function o(){u(e,"hide")}function a(i){function o(e){return-1!==e.search(new RegExp(i,"i"))}function a(e){return function(){h&&f(),l(e)}}d(),n.filter(o).slice(0,6).map(r).map(function(n){n.addEventListener("click",t),n.addEventListener("mouseover",a(n)),n.addEventListener("mouseout",f),e.appendChild(n)}),h=null}function d(){for(;e.firstChild;)e.removeChild(e.firstChild)}function s(){return e.hasChildNodes()}function l(e){c(e,"focus"),h=e}function f(){h&&u(h,"focus"),h=null}function p(){if(e.hasChildNodes()){if(!h)return l(e.firstChild),void 0;if(h.nextSibling){var n=h.nextSibling;return f(),l(n),void 0}}}function v(){if(h&&!h.previousSibling)return f(),void 0;if(h&&h.previousSibling){var e=h.previousSibling;return f(),l(e),void 0}}function m(){return!!h}function x(){return h.innerText}var h;return{hide:i,show:o,update:a,hasItems:s,focusDown:p,focusUp:v,hasFocusedItem:m,focusedItemText:x}}function f(e,n){function i(){m.value(h.data().join(","))}function a(){i()}function r(e){h.add(e),i(),g.hide(),x.clear(),p.focus()}function c(e){r(e.target.innerText)}var u=o(),f=u.querySelector(".ac.menu"),p=u.querySelector(".ac.text-field"),v=u.querySelector(".ac.tags"),m=d(e),x=d(p),h=s(v,a),g=l(f,n,c),y=40,C=38,b=13,k=[y,C,b];return e.type="hidden",t(u,e),g.hide(),p.addEventListener("keydown",function(e){e.keyCode===y&&g.focusDown()}),p.addEventListener("keydown",function(e){e.keyCode===C&&g.focusUp()}),p.addEventListener("keydown",function(e){e.keyCode===b&&g.hasFocusedItem()&&r(g.focusedItemText())}),p.addEventListener("keyup",function(e){var n=x.value();""!==n&&-1===k.indexOf(e.keyCode)&&g.update(n)}),p.addEventListener("keyup",function(){g.hasItems()&&""!==x.value()?g.show():g.hide()}),{}}function p(e,n){if(!n||!Array.isArray(n))throw"Data should be an array of string";if("INPUT"!==e.tagName)throw"AutoComplete can only bind to an input element";f(e,n)}!function(){var e=n.head,t=n.createElement("style"),i=".ac.widget{border-radius:4px;border:1px solid #CCC;padding:3px 0 4px 5px;background-color:#FFF;text-align:left}.ac.tag{background-color:#EEE;border-radius:3px;border:1px solid #CCC;padding:1px 0 1px 4px;margin:2px 4px 2px 0;display:inline-block}.ac.tag.focus{background-color:#FEFBC6}.ac.rm{font-size:20px;font-weight:700;line-height:18px;color:#000;text-shadow:0 1px 0 #fff;opacity:.2;filter:alpha(opacity=20);text-decoration:none;font-family:'Helvetica Neue',Helvetica,Arial,sans-serif}.ac.rm:hover{opacity:.4;filter:alpha(opacity=40);cursor:pointer}.ac.input{display:inline-block;position:relative}.ac.text-field{border:none;font-size:16px;width:100%}.ac.text-field:focus{outline:0}.ac.menu{display:inline-block;border-radius:6px;border:1px solid #CCC;padding:4px 0;position:absolute;left:2px;top:22px;background-color:#fff;z-index:2000}.ac.menu-item{padding:4px 8px;text-align:left}.ac.menu-item.focus{Background-color:#DDD}.ac.hide{display:none}";t.type="text/css",t.appendChild(n.createTextNode(i)),e.appendChild(t)}();var v=e.AutoComplete||(e.AutoComplete={});v.bind=p}(window,document);